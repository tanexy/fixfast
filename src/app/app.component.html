<GridLayout rows="*, auto" class="main-container">
  <!-- Content Area -->
  <StackLayout row="0" class="content-area">
    <!-- Single router outlet for all navigation -->
    <page-router-outlet></page-router-outlet>
  </StackLayout>

  <!-- Bottom Navigation - Hide during login -->
  <GridLayout row="1" columns="*, *, *, *, *" class="bottom-nav"
    [visibility]="activeTab === 'login' ? 'collapse' : 'visible'">

    <!-- Dashboard -->
    <StackLayout col="0" [class]="getTabClasses('dashboard')" (tap)="navigateToTab('fault-detection')">
      <StackLayout class="tab-content">
        <Image src="~/assets/icons/dashboard.png" width="22" height="22" [class]="getIconClasses('dashboard')"></Image>
        <Label text="Dashboard" [class]="getLabelClasses('dashboard')"></Label>
      </StackLayout>
      <StackLayout [class]="getIndicatorClasses('dashboard')"></StackLayout>
    </StackLayout>

    <!-- Reports -->
    <StackLayout col="1" [class]="getTabClasses('report')" (tap)="navigateToTab('report-form')">
      <StackLayout class="tab-content">
        <Image src="~/assets/icons/report.png" width="22" height="22" [class]="getIconClasses('report')"></Image>
        <Label text="Reports" [class]="getLabelClasses('report')"></Label>
      </StackLayout>
      <StackLayout [class]="getIndicatorClasses('report')"></StackLayout>
    </StackLayout>

    <!-- Tickets -->
    <StackLayout col="2" [class]="getTabClasses('tickets')" (tap)="navigateToTab('tickets')">
      <StackLayout class="tab-content">
        <Image src="~/assets/icons/ticket.png" width="22" height="22" [class]="getIconClasses('tickets')"></Image>
        <Label text="Tickets" [class]="getLabelClasses('tickets')"></Label>
      </StackLayout>
      <StackLayout [class]="getIndicatorClasses('tickets')"></StackLayout>
    </StackLayout>

    <!-- Network -->
    <StackLayout col="3" [class]="getTabClasses('network')" (tap)="navigateToTab('signal-detection')">
      <StackLayout class="tab-content">
        <Image src="~/assets/icons/signal.png" width="22" height="22" [class]="getIconClasses('network')"></Image>
        <Label text="Network" [class]="getLabelClasses('network')"></Label>
      </StackLayout>
      <StackLayout [class]="getIndicatorClasses('network')"></StackLayout>
    </StackLayout>

    <!-- Profile -->
    <StackLayout col="4" [class]="getTabClasses('profile')" (tap)="navigateToTab('profile')">
      <StackLayout class="tab-content">
        <Image src="~/assets/icons/user1.png" width="22" height="22" [class]="getIconClasses('profile')"></Image>
        <Label text="Profile" [class]="getLabelClasses('profile')"></Label>
      </StackLayout>
      <StackLayout [class]="getIndicatorClasses('profile')"></StackLayout>
    </StackLayout>
  </GridLayout>
</GridLayout>